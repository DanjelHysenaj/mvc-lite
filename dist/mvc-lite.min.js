Function("return this")().Config={viewOptions:{templatesFolder:"app"}},function(e){var t={get:function(e,t,r){if("object"==typeof t){var n="?";for(var i in t)t.hasOwnProperty(i)&&(n+=i+"="+t[i]+"&");e+=n}var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){200===s.status&&4===s.readyState&&r(JSON.parse(s.responseText))},s.send()}};e.Utils=e.Utils||{},e.Utils.Http=t}(Function("return this")()),function(e){var t=function(){this.listeners=[],this.lastMessage=void 0};t.prototype={subscribe:function(e){if("function"==typeof e)return this.listeners.push(e),{unsubscribe:this.unsubscribe.bind(this,e)};console.error(e,"is not a function. Cannot subscribe to Observable.")},unsubscribe:function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},next:function(e){this.listeners.forEach(function(t){t(e)}),this.lastMessage=e}},e.Utils=e.Utils||{},e.Utils.Observable=t}(Function("return this")()),function(e){e.Utils=e.Utils||{},e.Utils.String={toKeyValueArray:function(e,t){"string"!=typeof t&&(t=",");var r,n=[];return e.split(t).forEach(function(e){r=/([\w-]+): *(.+)/g.exec(e.trim()),n.push({key:r[1],value:r[2]})}),n},toDictionary:function(e,t){"string"!=typeof t&&(t=",");var r,n={};return e.split(t).forEach(function(e){r=/([\w-]+): *(.+)/g.exec(e.trim()),n[r[1]]=r[2]}),n}}}(Function("return this")()),function(e){var t=function(e,t){this.viewNode=e,this.self=e.self.cloneNode(!1),Array.isArray(t)&&(this.values=t),this.children=[]};t.prototype.compare=function(r){var n=!1;if(Array.isArray(this.viewNode.directives))for(var i,s,o=this.viewNode.directives,a=0,l=0;l<o.length;l++)if(o[l])if(i=o[l].injectable,s=i.getter(o[l].statement,r),i.compare(this.values[l-a],s)){if(Array.isArray(s.array))break}else{if(!i.justModify||!this.self){n=!0;break}this.values[l-a]=s,i.modifier(this,s)}else a++;if(n){var c=this.viewNode.generate(r);this.iteratorValue&&(c.iteratorValue=this.iteratorValue),this.parent.replaceChild(c,this),c.isComponent()&&(c.comp=e.Core.Bootstrap(c.self),c.self=c.comp.nodeTree.self)}else if(this.multipleNodes){var h,u=this.viewNode,f=this.iterator,p=r[f.varName],d=u.directives[l],v=l;for(u.directives[v]=void 0,l=0;l<f.array.length;l++)r[f.varName]=f.array[l],this.children[l]instanceof t?(this.children[l].compare(r),this.children[l].iteratorValue=f.array[l]):((h=u.generate(r)).iteratorValue=f.array[l],this.appendChild(h));r[f.varName]=p,u.directives[v]=d}else this.children.forEach(function(e){e.compare(r)})},t.prototype.appendChild=function(e){this.children.push(e),e.parent=this,e.self&&this.self.appendChild(e.self)},t.prototype.replaceChild=function(e,t){if(e.parent=t.parent,e.self&&t.self)this.self.replaceChild(e.self,t.self),this.children.splice(this.children.indexOf(t),1,e);else if(e.self&&!t.self){var r=this.children.indexOf(t);if(r>=0){this.children.splice(r,1,e);for(var n;!n&&r<this.children.length-1;)this.children[++r].self&&(n=this.children[r].self);n?n.parentNode.insertBefore(e.self,n):this.self.appendChild(e.self)}else console.error("CompNode: replaceChild failed, 2nd parameter is not a child of this node.")}else!e.self&&t.self&&this.removeChild(t)},t.prototype.removeChild=function(e){this.self.removeChild(e.self),e.self=void 0,e.children.splice(0,e.children.length)},t.prototype.isComponent=function(){return this.self&&1===this.self.nodeType&&this.viewNode.controller},t.prototype.bootstrap=function(){this.comp=e.Core.Bootstrap(this.self),this.self=this.comp.nodeTree.self},e.Base=e.Base||{},e.Base.CompNode=t}(Function("return this")()),function(e){var t=function(e,t){this.el=e,this.$scope=t};t.prototype.setView=function(e){this.el.parentNode.replaceChild(e.self,this.el),this.nodeTree=e,this.el=e.self},t.prototype.update=function(){this.nodeTree.compare(this.$scope)},e.Base=e.Base||{},e.Base.Component=t}(Function("return this")()),function(e){var t=function(e,t,r){this.name=e,this.view=t,this.constructor=r};t.prototype.generateComponent=function(t){var r={},n=new e.Base.Component(t,r);return this.constructor.call(this,r,n.update.bind(n)),n.setView(this.view.generate(r)),n},e.Base=e.Base||{},e.Base.Controller=t}(Function("return this")()),function(global){var TAG="[Injectable]",Injectable=function(e,t){this.name=e;try{this.modifier=t.modifier.bind(this)}catch(e){console.error(TAG,this.name+": No modifier set.")}"function"==typeof t.getter&&(this.getter=t.getter.bind(this)),"function"==typeof t.compare&&(this.compare=t.compare.bind(this)),this.keepAttribute=!!t.keepAttribute,this.justModify=!!t.justModify};Injectable.prototype.getter=function(statement,$scope){var result;try{with($scope)result=eval(statement)}catch(e){console.error(TAG,this.name+":","Couldn't evaluate '"+statement+"'.")}return result},Injectable.prototype.compare=function(e,t){if(e===t)return!0},global.Base=global.Base||{},global.Base.Injectable=Injectable}(Function("return this")()),function(e){var t=function(e,t){this.name=e,this.initFunc=t,this.events={},this.getData()};t.prototype.getData=function(){if("function"!=typeof this.initFunc)throw{message:this.name+": Couldn't initialize the model (initFunc err)"};this.initFunc(function(e){this.setData(e)}.bind(this))},t.prototype.setData=function(e,t){this.data=e,this.emit(t||"setData",e)},t.prototype.emit=function(e,t){if(Array.isArray(this.events[e]))for(var r=0;r<this.events[e].length;r++)this.events[e][r](t)},t.prototype.subscribe=function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),{unsubscribe:function(e){this.events.splice(this.events.indexOf(e),1)}.bind(this,t)}},e.Base=e.Base||{},e.Base.Model=t}(Function("return this")()),function(e){var t=e.Config.viewOptions,r=function(e,t){this.name=e,this.loadTemplate(t),this.buildNodeTree()};r.prototype.loadTemplate=function(e){var r=t.templatesFolder+"/"+e+this.name+".html";r=r.replace(/\/\//g,"/"),this.templateSrc=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.responseText}(r)},r.prototype.buildNodeTree=function(){function t(r){for(var n,i=new e.Base.ViewNode(r),s=0;s<r.childNodes.length;s++)(n=t(r.childNodes[s])).parent=i,i.children.push(n);return i}var r=document.createElement("temp");r.innerHTML=this.templateSrc;for(var n=new e.Base.ViewNode(document.createElement(this.name)),i=0;i<r.childNodes.length;i++)n.children.push(t(r.childNodes[i]));this.nodeTree=n},r.prototype.generate=function(t){for(var r=new e.Base.CompNode(this.nodeTree),n=0;n<this.nodeTree.children.length;n++)r.appendChild(this.nodeTree.children[n].generate(t,r));return r},e.Base=e.Base||{},e.Base.View=r}(Function("return this")()),function(e){var t=function(e){this.self=e,this.children=[],this.parseNode()};t.prototype.parseNode=function(){var t=this.self.attributes;if(t&&t.length>0)for(var r=0;r<t.length;r++)if("controller"===t[r].name)this.controller=t[r].value;else{var n=e.App.getInjectable(t[r].name);n instanceof e.Base.Injectable&&(Array.isArray(this.directives)||(this.directives=[]),this.directives.push({injectable:n,statement:t[r].value}),n.keepAttribute||(this.self.removeAttribute(t[r].name),r--))}},t.prototype.generate=function(t,r){var n=new e.Base.CompNode(this);if(Array.isArray(this.directives)){var i,s;for(n.values=[],s=0;s<this.directives.length&&n.self;s++)if(this.directives[s]){var o=(i=this.directives[s]).injectable.getter(i.statement,t);if(i.injectable.modifier(n,o),n.values.push(o),n.multipleNodes)break}}if(n.self)if(n.multipleNodes){var a,l=n.iterator.array,c=t[n.iterator.varName],h=this.directives[s],u=s;this.directives[s]=void 0;for(s=0;s<l.length;s++)t[n.iterator.varName]=l[s],(a=this.generate(t)).iteratorValue=l[s],a.self&&0,n.appendChild(a);t[n.iterator.varName]=c,this.directives[u]=h}else n.routeController?(n.self.setAttribute("controller",n.routeController.name),r&&r.appendChild(n),n.bootstrap()):function(e,r){for(var n,i=0;i<e.children.length;i++)n=e.children[i].generate(t,r),r.appendChild(n),n.isComponent()&&n.bootstrap()}(this,n);return n},e.Base=e.Base||{},e.Base.ViewNode=t}(Function("return this")()),function(e){function t(t){var r=t.getAttribute("controller");if("string"==typeof r){var n=e.App.getController(r);if(n instanceof e.Base.Controller)return n}}e.Core=e.Core||{},e.Core.Bootstrap=function(r){if(1===r.nodeType){var n=t(r);if(n instanceof e.Base.Controller)return n.generateComponent(r);throw{message:"Controller "+r.getAttribute("controller")+" not found."}}throw{message:"Cannot bootstrap a non-element object."}}}(Function("return this")()),function(e){var t={},r={},n={};e.App={getController:function(e){return t[e]},getInjectable:function(e){return r[e]},getModel:function(e){return n[e]},Bootstrap:function(t){var r="[Bootstrap]",n=document.querySelector('*[controller="'+t+'"]');if(n&&1===n.nodeType){try{var i=e.Core.Bootstrap(n)}catch(e){console.error(r,e.message)}return i}console.error(r,"Could not find placeholder for '"+t+"'.")},Controller:function(r,n,i){try{var s=new e.Base.View(r,n);t[r]=new e.Base.Controller(r,s,i)}catch(e){console.error("[Controller]",e.message)}},Injectable:function(t,n){try{r[t]=new e.Base.Injectable(t,n)}catch(e){console.error("[Injectable]",e.message)}},Model:function(t,r){try{n[t]=new e.Base.Model(t,r)}catch(e){console.error("[Model]",e.message)}}}}(Function("return this")()),function(global){global.App.Injectable("bind-if",{getter:function(statement,$scope){var result;try{with($scope)result=eval(statement)}catch(e){throw this.name+": Couldn't evaluate '"+statement+"'."}return!!result},modifier:function(e,t){t||(e.self=void 0)}})}(Function("return this")()),function(global){global.App.Injectable("bind-events",{getter:function(statement,$scope){var events=global.Utils.String.toDictionary(statement),matches,funcName,variables;for(var event in events)if(events.hasOwnProperty(event)){var regEx=new RegExp("^(.+)\\((.*)\\)$");matches=events[event].match(regEx),funcName=matches[1],variables=matches[2].split(",");for(var i=0;i<variables.length;i++)variables[i]=$scope[variables[i]];events[event]=function(funcName,variables){var func;try{with($scope)func=eval(funcName);func.apply(void 0,variables)}catch(e){throw this.name+": "+e.message}}.bind(this,funcName,variables)}return events},modifier:function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.self.addEventListener(r,function(e,t){t&&t.preventDefault&&t.preventDefault();try{e()}catch(e){console.error("[Injectable]",e)}}.bind(this,t[r]))},compare:function(e,t){return!0}})}(Function("return this")()),function(global){global.App.Injectable("bind-for",{getter:function(statement,$scope){for(var words=statement.split(" "),result={},w=0;w<words.length;w++)if("in"===words[w]&&w>0&&w<words.length-1){try{with($scope)result.array=eval(words[w+1])}catch(e){throw e}result.varName=words[w-1]}return result},compare:function(e,t){return e.array===t.array},modifier:function(e,t){e.self=document.createElement("iterator"),e.multipleNodes=!0,e.iterator=t}})}(Function("return this")()),Function("return this")().App.Injectable("bind-value",{justModify:!0,modifier:function(e,t){e.self.innerHTML=t}});