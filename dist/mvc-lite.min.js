Function("return this")().Config={viewOptions:{templatesFolder:"app"}},function(t){var e={clean:function(t){if(!Array.isArray(t))throw{message:"[Array:Clean] Cannot work with a non-array!"};for(var e=0;e<t.length;e++)void 0===t[e]?(t.splice(e,1),e--):Array.isArray(t[e])&&this.clean(t[e])}};t.Utils=t.Utils||{},t.Utils.Array=e}(Function("return this")()),function(t){var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n={getDateString:function(t,e){e=e||"/";var r=t.getDate(),n=t.getMonth()+1,i=t.getFullYear();return r<10&&(r="0"+r),n<10&&(n="0"+n),[r,n,i].join(e)},getDayString:function(t){var n=t.getMonth()+1,i=t.getDay(),s=t.getDate();return e[i]+", "+r[n-1]+" "+s},getTimeString:function(t){var e=t.getHours(),r=t.getMinutes();return e<10&&(e="0"+e),r<10&&(r="0"+r),[e,r].join(":")}};t.Utils=t.Utils||{},t.Utils.Date=n}(Function("return this")()),function(t){var e={},r={},n={get:function(t,r,n,o){var a=new XMLHttpRequest,l=r.options||{};if("object"==typeof r.headers)for(var h in r.headers)r.headers.hasOwnProperty(h)&&a.setRequestHeader(h,r.headers[h]);t+=s(e,r.params),a.open("GET",t,!0),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?i(l.plainText?a.responseText:JSON.parse(a.responseText),n):"function"==typeof o&&o(a.responseText))},a.send()},post:function(t,r,n,o){var a=new XMLHttpRequest;if(t+=s(e,r.params),a.open("POST",t,!0),"object"==typeof r.headers)for(var l in r.headers)r.headers.hasOwnProperty(l)&&a.setRequestHeader(l,r.headers[l]);"object"==typeof r.body&&(r=r.body,a.setRequestHeader("Content-Type","application/json")),a.onreadystatechange=function(){if(4===a.readyState){var t=JSON.parse(a.responseText);200===a.status?i(t,n):"function"==typeof o&&o(t)}},a.send(JSON.stringify(r))},updatePermaParam:function(t,r){void 0===r?delete e[t]:e[t]=r},subscribeToResponseParam:function(e,n){return r[e]instanceof t.Utils.Observable||(r[e]=new t.Utils.Observable),r[e].subscribe(n)}};function i(t,e){for(var n in r)r.hasOwnProperty(n)&&t.hasOwnProperty(n)&&r[n].next(t[n]);e(t)}function s(){for(var t,e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}for(var s in e)if(e.hasOwnProperty(s))switch(t||(t="?"),typeof e[s]){case"object":if(Array.isArray(e[s]))for(var o=0;o<e[s].length;o++)t+=s+"="+e[s][o]+"&";break;default:t+=s+"="+e[s]+"&"}return t&&t.substr(0,t.length-1)||""}t.Utils=t.Utils||{},t.Utils.Http=n}(Function("return this")()),function(t){var e={updateObject:function(t,r,n){if(t&&r){var i=0;if("object"==typeof t&&"object"==typeof r)for(var s in r)if(r.hasOwnProperty(s)&&!o(s))switch(typeof r[s]){case"object":Array.isArray(r[s])?console.warning('[Utils:Object] "updateObject" does not support merging arrays.'):i+=e.updateObject(t[s],r[s]);break;default:t[s]!==r[s]&&(t[s]=r[s],i++)}}function o(t){return Array.isArray(n)?n.indexOf(t)>=0:t===n}return i}};t.Utils=t.Utils||{},t.Utils.Object=e}(Function("return this")()),function(t){var e=function(){this.listeners=[],this.lastMessage=void 0};e.prototype={subscribe:function(t){if("function"==typeof t)return this.listeners.push(t),{unsubscribe:this.unsubscribe.bind(this,t)};console.error(t,"is not a function. Cannot subscribe to Observable.")},unsubscribe:function(t){this.listeners.splice(this.listeners.indexOf(t),1)},next:function(t){this.listeners.forEach(function(e){e(t)}),this.lastMessage=t}},t.Utils=t.Utils||{},t.Utils.Observable=e}(Function("return this")()),function(t){var e={toKeyValueArray:function(t,e){"string"!=typeof e&&(e=",");var r,n=[];return t.split(e).forEach(function(t){r=/([\w-]+): *(.+)/g.exec(t.trim()),n.push({key:r[1],value:r[2]})}),n},toDictionary:function(t,e,r,n){"string"!=typeof e&&(e=","),"string"!=typeof r&&(r=":");for(var i,s=n?t.split(n):t.split(e),o={},a=0;a<s.length;a++)0===s[a].length?s.splice(a--,1):s[a]=s[a].trim();return s.forEach(function(t){var e=new RegExp("([\\w-]+)"+r+" *(.+)");i=e.exec(t.trim()),Array.isArray(i)&&3===i.length&&(o[i[1]]=i[2])}),o},numberSeparator:function(t,e){var r=t.toString().split("."),n=r[0].replace(/[^\d]/g,"");void 0===e&&(e=",");for(var i=a(n),s=new RegExp(/(\d)(\d)(\d)(\d)/);s.test(i);)i=i.replace(s,o);return t=a(i)+(r[1]?"."+r[1]:"");function o(t,r,n,i,s){return r+n+i+e+s}function a(t){for(var e="",r=t.length-1;r>=0;r--)e+=t[r];return e}}},r={email:new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?")};t.Utils=t.Utils||{},t.Utils.String=e,t.Utils.RegExp=r}(Function("return this")()),function(t){var e=function(t,e){this.viewNode=t,this.self=t.self.cloneNode(!1),Array.isArray(e)&&(this.values=e),this.children=[]};e.prototype.compare=function(r,n){var i=!1,s=r.$scope,o=n&&n.recursive;if(Array.isArray(this.viewNode.directives))for(var a,l,h=this.viewNode.directives,c=0,p=0;p<h.length;p++)if(h[p]){var u,f,d;if(l=(a=h[p].injectable).getter(h[p].statement,r),Array.isArray(h[p].pipes))for(u=0;u<h[p].pipes.length;u++){var v;if(f=h[p].pipes[u],(d=t.App.getPipe(f.name))instanceof t.Base.Pipe)f.dataStatement&&(v=r.evalWithScope(f.dataStatement)),l=d.transform(l,v)}if(a.compare(this.values[p-c],l)){if(l&&Array.isArray(l.array))break;if(!1===l&&void 0===this.self)break}else{if(this.values[p-c]=l,!a.justModify||!this.self){i=!0;break}a.modifier(this,l)}}else c++;if(i){var m=this.viewNode.generate(r);this.iteratorValue&&(m.iteratorValue=this.iteratorValue),this.parent.replaceChild(m,this),m.isComponent()&&m.bootstrap(r)}else if(this.multipleNodes){var y,g=this.viewNode,b=this.iterator,C=s[b.varName],w=g.directives[p],A=p;for(g.directives[A]=void 0,p=0;p<b.array.length;p++)s[b.varName]=b.array[p],this.children[p]instanceof e?(this.children[p].compare(r),this.children[p].iteratorValue=b.array[p]):((y=g.generate(r)).iteratorValue=b.array[p],this.appendChild(y),y.isComponent()&&y.bootstrap());for(var S=p;p<this.children.length;p++)this.removeChild(this.children[p]);this.children.splice(S,p-S),s[b.varName]=C,g.directives[A]=w}else{var N,O,j;for(N=0;N<this.children.length;N++)j=(O=this.children[N]).compare(r,n),o&&O.isComponent()&&!j&&(O.comp?O.comp.update(n):setTimeout(function(t,e){t.comp&&t.comp.update(e)},0,O,n))}return i},e.prototype.appendChild=function(t){this.children.push(t),t.parent=this,this.self&&t.self&&this.self.appendChild(t.self)},e.prototype.replaceChild=function(t,e){if(t.parent=e.parent,t.self&&e.self)this.removeChild(e,t);else if(t.self&&!e.self){var r=this.children.indexOf(e);if(r>=0){var n;for(this.children.splice(r,1,t);!n&&r<this.children.length-1;)this.children[++r].self&&(n=this.children[r].self);n?n.parentNode.insertBefore(t.self,n):this.self&&this.self.appendChild(t.self)}else console.error("CompNode: replaceChild failed, 2nd parameter is not a child of this node.")}else!t.self&&e.self&&this.removeChild(e)},e.prototype.removeChild=function(e,r){if(e.comp instanceof t.Base.Component)e.comp.onDestroy(),delete e.comp;else if(Array.isArray(e.children)){for(var n=0;n<e.children.length;n++)e.removeChild(e.children[n]);e.children.splice(0,e.children.length)}r?(this.children.splice(this.children.indexOf(e),1,r),this.self.replaceChild(r.self,e.self)):e.self&&(this.self.removeChild(e.self),e.self=void 0)},e.prototype.isComponent=function(){return this.self&&1===this.self.nodeType&&(this.viewNode.controller||"string"==typeof this.self.getAttribute("controller"))&&!this.iterator},e.prototype.bootstrap=function(e){t.Core.Bootstrap(this.self,e,this.inputs,function(t){this.comp=t,this.self=t.nodeTree.self}.bind(this))},t.Base=t.Base||{},t.Base.CompNode=e}(Function("return this")()),function(global){var Component=function(t,e,r,n){this.name=t,this.el=e,this.processing=!1,r instanceof Component&&(this.parent=r,r.children=r.children||[],r.children.push(this)),this.$scope=n};Component.prototype.setView=function(t){this.el.parentNode.replaceChild(t.self,this.el),this.nodeTree=t,this.el=t.self},Component.prototype.update=function(t){this.nodeTree instanceof global.Base.CompNode&&!this.processing&&(this.processing=!0,this.nodeTree.compare(this,t),this.processing=!1)},Component.prototype.getInput=function(t,e){return this.inputs&&this.inputs.hasOwnProperty(t)&&(void 0!==this.inputs[t]||void 0===e)?this.inputs[t]:e},Component.prototype.evalWithScope=function($,options){var result;try{with(this.$scope)result=eval($)}catch(t){this.error(t.message)}return options=options||{},options.type&&"array"===options.type&&!Array.isArray(result)?(this.error($+" is not an array."),[]):result},Component.prototype.error=function(t){var e="[Component:"+this.name+"]";console.error(e,t)},Component.prototype.onDestroy=function(){if("function"==typeof this.$scope.onDestroy&&this.$scope.onDestroy(),Array.isArray(this.children))for(;this.children.length>0;)this.children[0].onDestroy();Array.isArray(this.subscriptions)&&this.subscriptions.forEach(function(t){t.unsubscribe()}),this.parent instanceof Component&&this.parent.children.splice(this.parent.children.indexOf(this),1)},global.Base=global.Base||{},global.Base.Component=Component}(Function("return this")()),function(t){var e=function(t,e,r){this.name=t,this.view=e,this.constructor=r};e.prototype.generateComponent=function(e,r,n,i){var s={},o=new t.Base.Component(this.name,e,r,s);return"object"==typeof n&&(o.inputs=n),s.getInput=function(t,e){s[t]=this.getInput(t,e)}.bind(o),s.addSubscription=function(){this.subscriptions=this.subscriptions||[];for(var t=0;t<arguments.length;t++)this.subscriptions.push(arguments[t])}.bind(o),this.constructor.call(this,s,o.update.bind(o)),this.view.generate(o,function(t){o.setView(t),"function"==typeof i&&i(o)}),o},t.Base=t.Base||{},t.Base.Controller=e}(Function("return this")()),function(t){var e=function(t,e){this.name=t;try{this.modifier=e.modifier.bind(this)}catch(t){console.error("[Injectable]",this.name+": No modifier set.")}"function"==typeof e.getter&&(this.getter=e.getter.bind(this)),"function"==typeof e.compare&&(this.compare=e.compare.bind(this)),this.keepAttribute=!!e.keepAttribute,this.justModify=!!e.justModify,this.useComponentInGetter=!!e.useComponentInGetter};e.prototype.getter=function(t,e){return e.evalWithScope(t)},e.prototype.compare=function(t,e){if(t===e)return!0},t.Base=t.Base||{},t.Base.Injectable=e}(Function("return this")()),function(t){var e=function(t,e){this.name=t,this.initFunc=e,this.events={},this.init()};e.prototype.init=function(){if(this.data=[],"function"!=typeof this.initFunc)throw{message:this.name+": Couldn't initialize the model (initFunc err)"};this.initFunc(function(t,e){this.setData(t,!!e)}.bind(this))},e.prototype.setData=function(t,e,r){if((e=!!e)&&this.data)for(var n=0;n<t.length;n++)this.data.push(t[n]);else this.data=t;this.emit(r||"setData",this.data)},e.prototype.emit=function(){for(var t,e=[],r=0;r<arguments.length;r++)0===r?t=arguments[r]:e.push(arguments[r]);if(Array.isArray(this.events[t]))for(var n=0;n<this.events[t].length;n++)this.events[t][n].apply(void 0,e)},e.prototype.subscribe=function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].push(e),{unsubscribe:function(t,e){var r=this.events[t].indexOf(e);this.events[t].splice(r,1)}.bind(this,t,e)}},t.Base=t.Base||{},t.Base.Model=e}(Function("return this")()),function(t){var e=function(t,e){this.name=t,this.func=e};e.prototype.transform=function(t,e){return this.func(t,e)},t.Base=t.Base||{},t.Base.Pipe=e}(Function("return this")()),function(t){var e="[Route]",r=function(t){if(!t.hasOwnProperty("path"))throw{message:e+" Route must have a path."};if(this.path=t.path.split("/"),t.hasOwnProperty("controller"))this.controller=t.controller;else{if(!t.hasOwnProperty("redirect"))throw{message:e+" Route must have a controller."};this.redirect=t.redirect}Array.isArray(t.children)&&(this.children=t.children.map(function(t){return new r(t)}))};r.prototype.checkUrl=function(t,e){var r=0;if(this.path.length>t.length)return!1;for(var n=0;n<this.path.length;n++)this.path[n]===t[n]&&r++;if(this.path.length===r){if(this.redirect)return{redirect:this.redirect};if(Array.isArray(e)||(e=[]),e.push(this.controller),this.path.length<t.length){if(!Array.isArray(this.children))return!1;var i=!1;for(t.splice(0,r),n=0;n<this.children.length;n++)if(this.children[n].checkUrl(t,e)){i=e;break}return{controllers:i}}if(Array.isArray(this.children)){var s=this.children.find(function(t){return 1===t.path.length&&""===t.path[0]});if(s)return s.checkUrl([""],e)}return{controllers:e}}return!1},t.Base=t.Base||{},t.Base.Route=r}(Function("return this")()),function(t){var e=t.Config.viewOptions,r=function(t,e,r){this.name=t,this.relPath=e,r&&(this.templateSrc=r),this.loadTemplate(e)};r.prototype.loadTemplate=function(r){var n=this,i=e.templatesFolder+"/"+r+this.name+".html",s=t.ENV?t.ENV.Version:"";i=i.replace(/\/\//g,"/"),t.Utils.Http.get(i+"?v="+encodeURI(s),{options:{plainText:!0}},function(t){n.templateSrc=t},function(t){console.error(t)})},r.prototype.buildNodeTree=function(){var e=document.createElement("temp");e.innerHTML=this.templateSrc;for(var r=new t.Base.ViewNode(document.createElement(this.name)),n=0;n<e.childNodes.length;n++)r.children.push(i(e.childNodes[n]));function i(e){for(var r,n=new t.Base.ViewNode(e),s=0;s<e.childNodes.length;s++)(r=i(e.childNodes[s])).parent=n,n.children.push(r);return n}this.nodeTree=r},r.prototype.generate=function(e,r){if(this.templateSrc){this.nodeTree||this.buildNodeTree();for(var n=new t.Base.CompNode(this.nodeTree),i=0;i<this.nodeTree.children.length;i++)n.appendChild(this.nodeTree.children[i].generate(e));"function"==typeof r&&r(n)}else setTimeout(function(){this.generate(e,r)}.bind(this),0)},t.Base=t.Base||{},t.Base.View=r}(Function("return this")()),function(t){var e=function(t){this.self=t,this.children=[],this.parseNode()};e.prototype.parseNode=function(){var e,r,n=this.self.attributes;if(n&&n.length>0)for(var i=0;i<n.length;i++)if(e=n[i].name,r=n[i].value,"controller"===e)this.controller=r;else{var s,o=r.split(" | "),a=t.App.getInjectable(e);if(a instanceof t.Base.Injectable){if(r=o[0],o.splice(0,1),o.length>0){s=[];for(var l=0;l<o.length;l++){var h=o[l].trim().split(/:(.+)/g);h=h.filter(function(t){return t.length>0}),s.push({name:h[0],dataStatement:h[1]})}}Array.isArray(this.directives)||(this.directives=[]),this.directives.push({injectable:a,statement:r,pipes:s}),s=void 0,a.keepAttribute||(this.self.removeAttribute(e),i--)}}},e.prototype.generate=function(e){var r,n,i=new t.Base.CompNode(this),s=e.$scope;if(Array.isArray(this.directives))for(i.values=[],n=0;n<this.directives.length&&i.self;n++)if(this.directives[n]){var o,a,l,h=(r=this.directives[n]).injectable.getter(r.statement,e);if(Array.isArray(r.pipes))for(o=0;o<r.pipes.length;o++){var c;if(a=r.pipes[o],(l=t.App.getPipe(a.name))instanceof t.Base.Pipe)a.dataStatement&&(c=e.evalWithScope(a.dataStatement)),h=l.transform(h,c)}if(r.injectable.modifier(i,h),i.values.push(h),i.multipleNodes)break}if(i.self)if(i.multipleNodes){var p,u=i.iterator.array,f=s[i.iterator.varName],d=this.directives[n],v=n;if("string"==typeof i.iterator.indexVarName)var m=i.iterator.indexVarName,y=s[m];for(this.directives[n]=void 0,n=0;n<u.length;n++)s[i.iterator.varName]=u[n],m&&(s[m]=n),(p=this.generate(e)).iteratorValue=u[n],i.appendChild(p),p.isComponent()&&p.bootstrap(e);s[i.iterator.varName]=f,this.directives[v]=d,y&&(s[m]=y)}else!function(t,r){for(var n,i=0;i<t.children.length;i++)n=t.children[i].generate(e),r.appendChild(n),n.replaceSelfWith&&(n.self.parentNode.replaceChild(n.replaceSelfWith.self,n.self),delete n.replaceSelfWith),n.isComponent()&&n.bootstrap(e)}(this,i);return i},t.Base=t.Base||{},t.Base.ViewNode=e}(Function("return this")()),function(t){t.Core=t.Core||{},t.Core.Bootstrap=function(e,r,n,i){if(1===e.nodeType){var s=function(e){var r=e.getAttribute("controller");if("string"==typeof r){var n=t.App.getController(r);if(n instanceof t.Base.Controller)return n}}(e);if(s instanceof t.Base.Controller)return s.generateComponent(e,r,n,i);throw{message:"Controller "+e.getAttribute("controller")+" not found."}}throw{message:"Cannot bootstrap a non-element object."}}}(Function("return this")()),function(t){var e,r="[Router]",n=function(n){if(e)return e;if(!Array.isArray(n))throw{message:r+" Router should accent an array of routes."};var i;window.onhashchange=function(){this.navigateTo(location.hash,!0)}.bind(this);try{this.routes=n.map(function(e){return e.setAsDefault&&(i=e),new t.Base.Route(e)})}catch(t){throw t}this.navigations=0,this.onStateChange=new t.Utils.Observable,e=this,i&&(this.defaultRoute=i),this.navigateTo(location.hash)};n.prototype.navigateTo=function(e,n){var i;if("#"===e[0]&&(e=e.slice("/"!==e[1]?1:2,e.length)),(e=e.split("#")).length>1&&(i=e[1]),(e=e[0])!==this.currentPath){this.navigating=!0,this.navigations++,this.lastPath=this.currentPath||e,this.currentPath=e;var s=this.parseUrl(e);if(s){var o=s.results;o.redirect?this.navigateTo(o.redirect):("string"==typeof s.params&&s.params.length>0&&(s.params=t.Utils.String.toDictionary(s.params,"&","=")),n?history.replaceState(null,"","#/"+e+(i?"#"+i:"")):history.pushState(null,"","#/"+e+(i?"#"+i:"")),this.stateChange(s))}else this.defaultRoute?this.navigateTo(this.defaultRoute.path):console.error(r,"UNKNOWN ROUTE '"+e+"'. To avoid this error please 'setAsDefault' your main path.");this.navigating=!1,this.onStateChange.next(this.currentPath)}},n.prototype.parseUrl=function(t){var e,r=t.split("?"),n=r[1];r=r[0].split("/").filter(function(t){return"#"!==t});for(var i=0;i<this.routes.length&&!e;i++)e=this.routes[i].checkUrl(r);return!!e&&{results:e,params:n}},n.prototype.stateChange=function(e){var r=e.results;if(this.state){for(var n,i=0;i<r.controllers.length;i++)if(r.controllers[i]!==this.state.controllers[i]){for(var s=i;s<r.controllers.length;s++)this.state.controllers[s]=r.controllers[s];s<this.state.controllers.length&&this.state.controllers.splice(s,this.state.controllers.length),this.state.nextController=r.controllers[i],n=this.state.compNodes[i];break}if("object"==typeof e.params){for(var o in e.params)e.params.hasOwnProperty(o)&&this.updateParam(o,e.params[o]);for(o in this.state.params)this.state.params.hasOwnProperty(o)&&(e.params[o]||this.updateParam(o))}else{var a=this.state.params;if("object"==typeof a)for(o in a)a.hasOwnProperty(o)&&this.updateParam(o)}if(n instanceof t.Base.CompNode){var l=n.comp,h=n.viewNode.generate(l);n.parent.replaceChild(h,n),h.bootstrap(l.parent)}}else this.state={controllers:r.controllers,params:e.params,nextController:r.controllers[0]}},n.prototype.nextController=function(t){if(this.state&&this.state.nextController){var e=this.state.nextController;this.state.nextController=void 0;for(var n=0;n<this.state.controllers.length;n++)if(e===this.state.controllers[n]){Array.isArray(this.state.compNodes)||(this.state.compNodes=[]),n+1>=this.state.controllers.length?this.state.nextController=this.state.controllers[0]:this.state.nextController=this.state.controllers[n+1],this.state.compNodes[n]=t;break}return e}console.error(r,"Failed to load next controller, end of list.")},n.prototype.updateParam=function(e,r){var n=this.params(),i=0;if(n[e]!==r&&(r&&0!==r.length?n[e]=r:delete n[e],i++,this.paramSubscriptions)){var s=this.paramSubscriptions[e];s instanceof t.Utils.Observable&&s.next(r)}if(i>0){var o=location.hash;o=o.split("?")[0]+"?";for(var a in n)n.hasOwnProperty(a)&&(o+=a+"="+n[a]+"&");o=o.substr(2,o.length-3),this.navigating?history.replaceState(null,"","#/"+o):history.pushState(null,"","#/"+o),this.onStateChange.next(o),this.currentPath=o}this.state&&(this.state.params=n)},n.prototype.subscribeToParam=function(e,r){"object"!=typeof this.paramSubscriptions&&(this.paramSubscriptions={});var n=this.paramSubscriptions;n[e]instanceof t.Utils.Observable||(n[e]=new t.Utils.Observable);var i=n[e].subscribe(r);return this.state&&this.state.params&&r(this.state.params[e]),i},n.prototype.isLandingPage=function(){return this.lastPath===this.currentPath&&1===this.navigations},n.prototype.params=function(){return this.state&&"object"==typeof this.state.params?this.state.params:{}},t.Core=t.Core||{},t.Core.Router=n}(Function("return this")()),function(t){var e,r={},n={},i={},s={};t.App={getController:function(t){return r[t]},getModel:function(t){return n[t]},getInjectable:function(t){return i[t]},getPipe:function(t){return s[t]},Bootstrap:function(e,r){var n="[Bootstrap]";"object"==typeof r&&t.Utils.Object.updateObject(t.Config,r);var i=document.querySelector('*[controller="'+e+'"]');{if(i&&1===i.nodeType){try{var s=t.Core.Bootstrap(i)}catch(t){console.error(n,t.message||t)}return s}console.error(n,"Could not find placeholder for '"+e+"'.")}},Controller:function(e,n,i){try{var s=new t.Base.View(e,n);r[e]=new t.Base.Controller(e,s,i)}catch(t){console.error("[Controller]",t.message)}},Model:function(e,r){try{n[e]=new t.Base.Model(e,r)}catch(t){console.error("[Model]",t.message)}},Injectable:function(e,r){try{i[e]=new t.Base.Injectable(e,r)}catch(t){console.error("[Injectable]",t.message)}},Pipe:function(e,r){try{s[e]=new t.Base.Pipe(e,r)}catch(t){console.error("[Pipe]",t.message)}},Router:function(r){e||(e=new t.Core.Router(r));return e}}}(Function("return this")()),function(t){t.App.Injectable("bind-attr",{justModify:!0,getter:function(e,r){var n,i=t.Utils.String.toDictionary(e);for(var s in i)i.hasOwnProperty(s)&&(n=r.evalWithScope(i[s]),i[s]=n);return i},modifier:function(t,e){for(var r in e)e.hasOwnProperty(r)&&(!1===e[r]?t.self.removeAttribute(r):t.self.setAttribute(r,e[r]))}})}(Function("return this")()),function(t){t.App.Injectable("bind-class",{justModify:!0,getter:function(e,r){var n,i=t.Utils.String.toDictionary(e);for(var s in i)i.hasOwnProperty(s)&&(n=r.evalWithScope(i[s]),i[s]=!!n);return i},modifier:function(t,e){var r=0;for(var n in e)e.hasOwnProperty(n)&&(e[n]?(t.self.classList.add(n),r++):t.self.classList.remove(n));0===r&&0===t.self.classList.length&&t.self.removeAttribute("class")}})}(Function("return this")()),Function("return this")().App.Injectable("bind-if",{getter:function(t,e){return!!e.evalWithScope(t)},modifier:function(t,e){e||(t.self=void 0)}}),Function("return this")().App.Injectable("content-outlet",{getter:function(t,e){return e},modifier:function(t,e){e.subView&&(t.replaceSelfWith=e.subView.generate(e.parent))}}),function(t){t.App.Injectable("bind-events",{getter:function(e,r){var n,i,s,o=new RegExp("([a-z]+\\: ?.+?\\(.*?\\)), ?"),a=t.Utils.String.toDictionary(e,!1,!1,o);for(var l in a)if(a.hasOwnProperty(l)){var h=new RegExp("^(.+)\\((.*)\\)$");if(n=a[l].match(h),!Array.isArray(n)||n.length<2)throw this.name+": Invalid statement, expecting: [event: func()]";i=n[1],s=n[2].split(",");for(var c=0;c<s.length;c++)s[c]=r.evalWithScope(s[c]);a[l]={variables:s,func:function(t,e,n){var i=r.evalWithScope(t);"function"==typeof i&&i.apply(n,e)}.bind(this,i,s)}}return a},modifier:function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.self.addEventListener(r,function(t,e){e&&e.preventDefault&&e.preventDefault();try{t(e.currentTarget)}catch(t){console.error("[Injectable]",t)}}.bind(this,e[r].func))},compare:function(t,e){for(var r in t){if(!e[r])return!1;var n=t[r].variables,i=e[r].variables;if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==i[s])return!1}return!0}})}(Function("return this")()),function(t){t.App.Injectable("input",{getter:function(e,r){var n=t.Utils.String.toDictionary(e);for(var i in n)n.hasOwnProperty(i)&&(n[i]=r.evalWithScope(n[i]));return n},modifier:function(t,e){t.inputs=e},compare:function(t,e){var r=!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n]){r=!1;break}return r}})}(Function("return this")()),Function("return this")().App.Injectable("bind-for",{getter:function(t,e){for(var r=t.split(" "),n={},i=0;i<r.length;i++)if("in"===r[i]&&i>0&&i<r.length-1&&(n.array=e.evalWithScope(r[i+1],{type:"array"}),n.varName=r[i-1]),"let"===r[i]&&i<r.length-2){var s=r[++i];switch(r[++i]){case"index":n.indexVarName=s}}return n},modifier:function(t,e){t.self=document.createElement("iterator"),t.multipleNodes=!0,t.iterator=e},compare:function(t,e){return t.array===e.array}}),Function("return this")().App.Injectable("bind-replace",{modifier:function(t,e){t.self instanceof HTMLInputElement&&t.self.addEventListener("input",function(t){t&&t.preventDefault&&t.preventDefault(),"string"==typeof e&&(e=new RegExp(e,"g")),this.value=this.value.replace(e,"")})},compare:function(t,e){return String(t)===String(e)}}),function(t){t.App.Injectable("router-outlet",{getter:function(t,e){return!0},modifier:function(e,r){var n=t.App.Router().nextController(e);if(!(t.App.getController(n)instanceof t.Base.Controller))throw'[Router-Outlet] could not find controller "'+n+'".';e.self.setAttribute("controller",n)}})}(Function("return this")()),Function("return this")().App.Injectable("bind-value",{justModify:!0,modifier:function(t,e){t.self instanceof HTMLInputElement&&(t.self.value=e),"function"==typeof e&&(e=typeof e),t.self.innerHTML=e}});