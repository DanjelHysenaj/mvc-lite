Function("return this")().Config={viewOptions:{templatesFolder:"app"}},function(e){var t={get:function(e,t,n){if("object"==typeof t){var r="?";for(var i in t)t.hasOwnProperty(i)&&(r+=i+"="+t[i]+"&");e+=r}var s=new XMLHttpRequest;s.open("GET",e,!0),s.onreadystatechange=function(){200===s.status&&4===s.readyState&&n(JSON.parse(s.responseText))},s.send()}};e.Utils=e.Utils||{},e.Utils.Http=t}(Function("return this")()),function(e){var t=function(){this.listeners=[],this.lastMessage=void 0};t.prototype={subscribe:function(e){if("function"==typeof e)return this.listeners.push(e),{unsubscribe:this.unsubscribe.bind(this,e)};console.error(e,"is not a function. Cannot subscribe to Observable.")},unsubscribe:function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},next:function(e){this.listeners.forEach(function(t){t(e)}),this.lastMessage=e}},e.Utils=e.Utils||{},e.Utils.Observable=t}(Function("return this")()),function(e){e.Utils=e.Utils||{},e.Utils.String={toKeyValueArray:function(e,t){"string"!=typeof t&&(t=",");var n,r=[];return e.split(t).forEach(function(e){n=/([\w-]+): *(.+)/g.exec(e.trim()),r.push({key:n[1],value:n[2]})}),r},toDictionary:function(e,t){"string"!=typeof t&&(t=",");var n,r={};return e.split(t).forEach(function(e){n=/([\w-]+): *(.+)/g.exec(e.trim()),r[n[1]]=n[2]}),r}}}(Function("return this")()),function(e){var t=function(e,t){this.viewNode=e,this.self=e.self.cloneNode(!1),Array.isArray(t)&&(this.values=t),this.children=[]};t.prototype.compare=function(n){var r=!1;if(Array.isArray(this.viewNode.directives))for(var i,s,o=this.viewNode.directives,a=0,l=0;l<o.length;l++)if(o[l])if(i=o[l].injectable,s=i.getter(o[l].statement,n),i.compare(this.values[l-a],s)){if(Array.isArray(s.array))break}else{if(!i.justModify||!this.self){r=!0;break}this.values[l-a]=s,i.modifier(this,s)}else a++;if(r){var c=this.viewNode.generate(n);this.iteratorValue&&(c.iteratorValue=this.iteratorValue),this.parent.replaceChild(c,this),c.isComponent()&&(c.comp=e.Core.Bootstrap(c.self),c.self=c.comp.nodeTree.self)}else if(this.multipleNodes){var h,u=this.viewNode,f=this.iterator,p=n[f.varName],d=u.directives[l],v=l;for(u.directives[v]=void 0,l=0;l<f.array.length;l++)n[f.varName]=f.array[l],this.children[l]instanceof t?(this.children[l].compare(n),this.children[l].iteratorValue=f.array[l]):((h=u.generate(n)).iteratorValue=f.array[l],this.appendChild(h));n[f.varName]=p,u.directives[v]=d}else this.children.forEach(function(e){e.compare(n)})},t.prototype.appendChild=function(e){this.children.push(e),e.parent=this,e.self&&this.self.appendChild(e.self)},t.prototype.replaceChild=function(e,t){if(e.parent=t.parent,e.self&&t.self)this.self.replaceChild(e.self,t.self),this.children.splice(this.children.indexOf(t),1,e);else if(e.self&&!t.self){var n=this.children.indexOf(t);if(n>=0){this.children.splice(n,1,e);for(var r;!r&&n<this.children.length-1;)this.children[++n].self&&(r=this.children[n].self);r?r.parentNode.insertBefore(e.self,r):this.self.appendChild(e.self)}else console.error("CompNode: replaceChild failed, 2nd parameter is not a child of this node.")}else!e.self&&t.self&&this.removeChild(t)},t.prototype.removeChild=function(e){this.self.removeChild(e.self),e.self=void 0,e.children.splice(0,e.children.length)},t.prototype.isComponent=function(){return this.self&&1===this.self.nodeType&&this.viewNode.controller},t.prototype.bootstrap=function(){this.comp=e.Core.Bootstrap(this.self),this.self=this.comp.nodeTree.self},e.Base=e.Base||{},e.Base.CompNode=t}(Function("return this")()),function(e){var t=function(e,t){this.el=e,this.$scope=t};t.prototype.setView=function(e){this.el.parentNode.replaceChild(e.self,this.el),this.nodeTree=e,this.el=e.self},t.prototype.update=function(){this.nodeTree.compare(this.$scope)},e.Base=e.Base||{},e.Base.Component=t}(Function("return this")()),function(e){var t=function(e,t,n){this.name=e,this.view=t,this.constructor=n};t.prototype.generateComponent=function(t){var n={},r=new e.Base.Component(t,n);return this.constructor.call(this,n,r.update.bind(r)),r.setView(this.view.generate(n)),r},e.Base=e.Base||{},e.Base.Controller=t}(Function("return this")()),function(global){var TAG="[Injectable]",Injectable=function(e,t){this.name=e;try{this.modifier=t.modifier.bind(this)}catch(e){console.error(TAG,this.name+": No modifier set.")}"function"==typeof t.getter&&(this.getter=t.getter.bind(this)),"function"==typeof t.compare&&(this.compare=t.compare.bind(this)),this.keepAttribute=!!t.keepAttribute,this.justModify=!!t.justModify};Injectable.prototype.getter=function(statement,$scope){var result;try{with($scope)result=eval(statement)}catch(e){console.error(TAG,this.name+":","Couldn't evaluate '"+statement+"'.")}return result},Injectable.prototype.compare=function(e,t){if(e===t)return!0},global.Base=global.Base||{},global.Base.Injectable=Injectable}(Function("return this")()),function(e){var t=function(e,t){this.name=e,this.initFunc=t,this.events={},this.getData()};t.prototype.getData=function(){if("function"!=typeof this.initFunc)throw{message:this.name+": Couldn't initialize the model (initFunc err)"};this.initFunc(function(e){this.setData(e)}.bind(this))},t.prototype.setData=function(e,t){this.data=e,this.emit(t||"setData",e)},t.prototype.emit=function(e,t){if(Array.isArray(this.events[e]))for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)},t.prototype.subscribe=function(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),{unsubscribe:function(e){this.events.splice(this.events.indexOf(e),1)}.bind(this,t)}},e.Base=e.Base||{},e.Base.Model=t}(Function("return this")()),function(e){var t=e.Config.viewOptions,n=function(e,t){this.name=e,this.loadTemplate(t),this.buildNodeTree()};n.prototype.loadTemplate=function(e){var n=t.templatesFolder+"/"+e+this.name+".html";n=n.replace(/\/\//g,"/"),this.templateSrc=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t.responseText}(n)},n.prototype.buildNodeTree=function(){function t(n){for(var r,i=new e.Base.ViewNode(n),s=0;s<n.childNodes.length;s++)(r=t(n.childNodes[s])).parent=i,i.children.push(r);return i}var n=document.createElement("temp");n.innerHTML=this.templateSrc;for(var r=new e.Base.ViewNode(document.createElement(this.name)),i=0;i<n.childNodes.length;i++)r.children.push(t(n.childNodes[i]));this.nodeTree=r},n.prototype.generate=function(t){for(var n=new e.Base.CompNode(this.nodeTree),r=0;r<this.nodeTree.children.length;r++)n.appendChild(this.nodeTree.children[r].generate(t,n));return n},e.Base=e.Base||{},e.Base.View=n}(Function("return this")()),function(e){var t=function(e){this.self=e,this.children=[],this.parseNode()};t.prototype.parseNode=function(){var t=this.self.attributes;if(t&&t.length>0)for(var n=0;n<t.length;n++)if("controller"===t[n].name)this.controller=t[n].value;else{var r=e.App.getInjectable(t[n].name);r instanceof e.Base.Injectable&&(Array.isArray(this.directives)||(this.directives=[]),this.directives.push({injectable:r,statement:t[n].value}),r.keepAttribute||(this.self.removeAttribute(t[n].name),n--))}},t.prototype.generate=function(t,n){var r=new e.Base.CompNode(this);if(Array.isArray(this.directives)){var i,s;for(r.values=[],s=0;s<this.directives.length&&r.self;s++)if(this.directives[s]){var o=(i=this.directives[s]).injectable.getter(i.statement,t);if(i.injectable.modifier(r,o),r.values.push(o),r.multipleNodes)break}}if(r.self)if(r.multipleNodes){var a,l=r.iterator.array,c=t[r.iterator.varName],h=this.directives[s],u=s;this.directives[s]=void 0;for(s=0;s<l.length;s++)t[r.iterator.varName]=l[s],(a=this.generate(t)).iteratorValue=l[s],a.self&&0,r.appendChild(a);t[r.iterator.varName]=c,this.directives[u]=h}else r.routeController?(r.self.setAttribute("controller",r.routeController.name),n&&n.appendChild(r),r.bootstrap()):function(e,n){for(var r,i=0;i<e.children.length;i++)r=e.children[i].generate(t,n),n.appendChild(r),r.isComponent()&&r.bootstrap()}(this,r);return r},e.Base=e.Base||{},e.Base.ViewNode=t}(Function("return this")()),function(e){function t(t){var n=t.getAttribute("controller");if("string"==typeof n){var r=e.App.getController(n);if(r instanceof e.Base.Controller)return r}}e.Core=e.Core||{},e.Core.Bootstrap=function(n){if(1===n.nodeType){var r=t(n);if(r instanceof e.Base.Controller)return r.generateComponent(n);throw{message:"Controller "+n.getAttribute("controller")+" not found."}}throw{message:"Cannot bootstrap a non-element object."}}}(Function("return this")()),function(e){var t={},n={},r={};e.App={getController:function(e){return t[e]},getInjectable:function(e){return n[e]},getModel:function(e){return r[e]},Bootstrap:function(t){var n="[Bootstrap]",r=document.querySelector('*[controller="'+t+'"]');if(r&&1===r.nodeType){try{var i=e.Core.Bootstrap(r)}catch(e){console.error(n,e.message)}return i}console.error(n,"Could not find placeholder for '"+t+"'.")},Controller:function(n,r,i){try{var s=new e.Base.View(n,r);t[n]=new e.Base.Controller(n,s,i)}catch(e){console.error("[Controller]",e.message)}},Injectable:function(t,r){try{n[t]=new e.Base.Injectable(t,r)}catch(e){console.error("[Injectable]",e.message)}},Model:function(t,n){try{r[t]=new e.Base.Model(t,n)}catch(e){console.error("[Model]",e.message)}}}}(Function("return this")()),Function("return this")().App.Injectable("bind-if",{modifier:function(e,t){t||(e.self=void 0)}}),function(global){global.App.Injectable("bind-events",{getter:function(statement,$scope){var events=global.Utils.String.toDictionary(statement);for(var event in events)events.hasOwnProperty(event)&&(events[event]=function(eventStatement){try{with($scope)eval(eventStatement)}catch(e){throw this.name+": "+e.message}}.bind(this,events[event]));return events},modifier:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.self.addEventListener(n,function(e,t){t&&t.preventDefault&&t.preventDefault();try{e()}catch(e){console.error("[Injectable]",e)}}.bind(this,t[n]))},compare:function(e,t){return!0}})}(Function("return this")()),function(global){global.App.Injectable("bind-for",{getter:function(statement,$scope){for(var words=statement.split(" "),result={},w=0;w<words.length;w++)if("in"===words[w]&&w>0&&w<words.length-1){try{with($scope)result.array=eval(words[w+1])}catch(e){throw e}result.varName=words[w-1]}return result},compare:function(e,t){return e.array===t.array},modifier:function(e,t){e.self=document.createElement("iterator"),e.multipleNodes=!0,e.iterator=t}})}(Function("return this")()),Function("return this")().App.Injectable("bind-value",{justModify:!0,modifier:function(e,t){e.self.innerHTML=t}});